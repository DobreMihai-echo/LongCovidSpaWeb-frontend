<div class="d-flex justify-content-around" style="margin-top: 20px">
	<form class="patients-form">
		<app-search-bar (searchEmitter)="performSearch($event)"></app-search-bar>
	</form>

	<!-- Sort patients -->
	<div class="patients-button-row d-flex gap-4">
		<button
			mat-flat-button
			[matMenuTriggerFor]="menu"
			class="mat-flat-button"
			style="background-color: var(--main-bg-color); color: var(--text-white-color)"
		>
			<mat-icon>swap_vert</mat-icon> Sort
		</button>
		<mat-menu #menu="matMenu">
			<button mat-menu-item>Name</button>
			<button mat-menu-item>Birthdate</button>
			<button mat-menu-item>Gender</button>
			<button mat-menu-item>Height</button>
			<button mat-menu-item>Weight</button>
			<button mat-menu-item>Medical History</button>
			<button mat-menu-item>Change</button>
			<button mat-menu-item>User</button>
		</mat-menu>

		<button
			mat-flat-button
			class="mat-flat-button"
			style="background-color: var(--main-bg-color); color: var(--text-white-color)"
		>
			<mat-icon>keyboard_arrow_down</mat-icon>
			Jul 10-Aug 11
		</button>

		<button
			mat-flat-button
			class="mat-flat-button"
			style="background-color: var(--btn-bg-green); color: var(--text-white-color)"
		>
			+ Add patient
		</button>
	</div>
</div>

<!-- Table with patients -->
<div class="container">
	<table
		mat-table
		[dataSource]="dataSource"
		matSort
		(matSortChange)="announceSortChange($event)"
		class="mat-elevation-z8"
	>
		<ng-container matColumnDef="name">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">
				Name
			</th>
			<td mat-cell *matCellDef="let element">{{ element.name }}</td>
		</ng-container>

		<ng-container matColumnDef="birthdate">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by birthdate"
			>
				Birthdate
			</th>
			<td mat-cell *matCellDef="let element">
				{{ element.birthdate }}
			</td>
		</ng-container>

		<ng-container matColumnDef="gender">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by gender">
				Gender
			</th>
			<td mat-cell *matCellDef="let element">{{ element.gender }}</td> </ng-container
		><ng-container matColumnDef="height">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by height">
				Height
			</th>
			<td mat-cell *matCellDef="let element">{{ element.height }}</td> </ng-container
		><ng-container matColumnDef="weight">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by gender">
				Weight
			</th>
			<td mat-cell *matCellDef="let element">{{ element.weight }}</td> </ng-container
		><ng-container matColumnDef="medicalHistory">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by gender">
				Medical History
			</th>
			<td mat-cell *matCellDef="let element">{{ element.medicalHistory }}</td> </ng-container
		><ng-container matColumnDef="change">
			<th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by gender">
				Change
			</th>
			<td
				mat-cell
				*matCellDef="let element"
				[ngStyle]="{ color: element.change.includes('-') ? 'red' : 'green' }"
			>
				{{ element.change }}
			</td>
		</ng-container>

		<ng-container matColumnDef="user">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
				sortActionDescription="Sort by gender"
			></th>
			<td mat-cell *matCellDef="let element">
				<button
					mat-flat-button
					class="mat-flat-button"
					style="background-color: var(--btn-bg-green); color: var(--text-white-color)"
					*ngIf="element.user.length > 0"
				>
					{{ element.user }}
				</button>
			</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
	</table>
</div>
